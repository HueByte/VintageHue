# HueHordes v1.0.0

**Release Date:** 28/09/2025
**Target Game Version:** Vintage Story 1.21.1

## Added

### Core Horde System

- **Periodic horde spawning system** that creates waves of hostile entities around players
- **Configurable timing system** with default 3-day intervals between horde events
- **Ring-based spawn mechanics** with customizable radius (12-24 blocks from player)
- **Multi-entity support** with configurable entity types (defaults to drifter-normal)
- **Smart spawn count management** (default: 8 entities per horde)

### AI & Behavior Systems

- **Dual AI architecture** with both legacy and modern async AI systems
- **AsyncHordeAI** - Modern asynchronous AI system for advanced horde management
- **HordeAI** - Legacy AI system maintained for compatibility
- **Smart targeting system** with both sync and async implementations
- **Base detection capabilities** for intelligent horde targeting
- **Smart horde behaviors** including AsyncSmartHordeBehavior and SmartHordeBehavior
- **HordeNudgeBehavior** - Custom entity behavior that guides spawned mobs toward player positions
- **Configurable nudge mechanics** with customizable duration (20s) and speed (0.05)

### Configuration Management

- **AsyncConfigurationManager** for dynamic configuration handling
- **Server-side JSON configuration** (Horde.server.json) with the following options:
  - `DaysBetweenHordes` - Interval between horde events (default: 3 days)
  - `Count` - Number of mobs per horde (default: 8)
  - `SpawnRadiusMin/Max` - Spawn distance range (default: 12-24 blocks)
  - `EntityCodes` - Array of entity types to spawn
  - `NudgeTowardInitialPos` - Enable movement toward player (default: true)
  - `NudgeSeconds` - Duration of nudge behavior (default: 20s)
  - `NudgeSpeed` - Movement speed multiplier (default: 0.05)

### Administrative Commands

- **`/horde now`** - Immediately spawn a horde at current position for testing
- **`/horde reset`** - Reset all player horde timers to zero
- **`/horde setdays <n>`** - Configure interval between horde events
- **`/horde status`** - Display comprehensive system information and player timer status
- **`/horde spawn <playername>`** - Force spawn horde for specific player
- **`/horde aiinfo`** - Show AI system information including detected player bases
- **`/horde refreshbase <playername>`** - Force refresh base detection for specific player

### Data Management

- **Persistent save data system** integrated with Vintage Story's save system
- **HordeSaveData** model for tracking horde state across game sessions
- **HordeState** tracking for individual player horde timers
- **Player base detection** and tracking system
- **HordeTarget** system for intelligent targeting

### Technical Features

- **Async/await pattern support** throughout the codebase for better performance
- **Comprehensive error handling** and validation systems
- **Game tick integration** with 5-second intervals for efficient processing
- **Event-driven architecture** with save/load event handling
- **Type safety** with strongly-typed configuration models
- **JSON schema validation** for configuration files

## Technical Details

### Architecture

- Built as a Vintage Story Code Mod using C# and .NET 8.0
- Implements ModSystem base class for proper game integration
- Uses Vintage Story API 1.21.1 for full game compatibility
- Follows async/await patterns for modern, non-blocking code execution

### Entity Spawning

- Supports any Vintage Story entity code (full or domain-less)
- Ring-based spawning algorithm prevents entities from spawning too close to players
- Intelligent spawn validation to ensure entities spawn in valid locations
- Custom nudge behavior temporarily guides entities toward player positions

### Performance Optimizations

- Async AI systems reduce game lag during horde processing
- 5-second tick intervals balance responsiveness with performance
- Efficient base detection algorithms minimize computational overhead
- Smart targeting reduces unnecessary entity scanning

---

*This changelog follows [Keep a Changelog](https://keepachangelog.com/) format.*
